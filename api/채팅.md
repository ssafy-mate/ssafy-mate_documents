# 채팅 API

## 채팅방 목록 불러오기

| TYPE |        URL        | TOKEN |
| :--: | :---------------: | :---: |
|  GET | /api/chat/room/{userId}  |   O   |

### Request

- URL GET (본인 아이디)

### Response

- 채팅 목록 불러오기 성공(목록이 있는 경우)

```json
{
  "status": 200,
  "success": true,
  "message": "",
  "token": "ad123sdafgfa0asdfas12390"
  "roomList": [
           {  
              "roomId" : "123-124",
              "userId" : 123,
              "userName": "조원빈",
              "profileImg": "/src/main/~~~",
              "content": "안녕하세요",
              "sentTime":"2022-01-17T17:03:36.336763"
           },
           {  
              "roomId" : "122-124",
              "userId" : 122,
              "userName": "소정은",
              "profileImg": "/src/main/~~~",
              "content": "안녕하세요",
              "sentTime":"2022-01-17T17:03:26.336763"
           } 
  ]
}
```
  userId는 상대방 아이디

- 채팅 목록 불러오기 성공(목록이 없는 경우)

```json
{
  "status": 200,
  "success": true,
  "message": "",
  "token": "ad123sdafgfa0asdfas12390"
  "roomList": []
}
```

- 채팅 목록 불러오기 실패

```json
{
  "status": 401,
  "success": false,
  "message": "인증에 실패했습니다."
}
```

## 방의 존재 여부 검사


| TYPE |        URL        | TOKEN |
| :--: | :---------------: | :---: |
| GET | /api/chat  |   O   |

### Request

```json
{
  "user_id1" : "123", (본인 아이디)
  "user_id2" : "124" (상대방 아이디)
}
```
### Response

- 방이 있는 경우
  - 대화 내용 자동 호출
- 방이 없는 경우
  - 방 생성




## 대화 내용 불러오기


| TYPE |        URL        | TOKEN |
| :--: | :---------------: | :---: |
|  GET |   /api/chat/log   |   O   |

### Request

```json
{
  "user_id1" : "123",
  "user_id2" : "124"
}
```

### Response

- 대화 내용이 있는 경우 대화 내용 불러오기 성공(페이징 처리)

```json
{
  "status": 200,
  "success": true,
  "message": "",
  "token": "ad123sdafgfa0asdfas12390"
  "contentList": [
           {
              "senderId" : 123,
              "userName": "조원빈",
              "profileImg": "/src/main/~~~",
              "content": "안녕하세요",
              "sentTime":"2022-01-17T17:03:36.336763"
           },
           {
              "senderId" : 122,
              "userName": "소정은",
              "profileImg": "/src/main/~~~",
              "content": "안녕하세요",
              "sentTime":"2022-01-17T17:03:26.336763"
           },
           {
              "senderId" : 123,
              "userName": "조원빈",
              "profileImg": "/src/main/~~~",
              "content": "안녕하세요",
              "sentTime":"2022-01-17T17:03:36.336763"
           },
           {
              "senderId" : 122,
              "userName": "소정은",
              "profileImg": "/src/main/~~~",
              "content": "안녕하세요",
              "sentTime":"2022-01-17T17:03:26.336763"
           },
           {
              "senderId" : 123,
              "userName": "조원빈",
              "profileImg": "/src/main/~~~",
              "content": "안녕하세요",
              "sentTime":"2022-01-17T17:03:36.336763"
           },
  ]
}
```

- 대화 내용이 없는 경우
```json
{
  "status": 200,
  "success": true,
  "message": "",
  "token": "ad123sdafgfa0asdfas12390"
  "contentList": []
}
```
